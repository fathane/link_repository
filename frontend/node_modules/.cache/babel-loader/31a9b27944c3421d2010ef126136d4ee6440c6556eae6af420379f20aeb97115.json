{"ast":null,"code":"var _jsxFileName = \"/home/fathane/DOSS_HOME/link_repository/frontend/src/components/Modal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport '../menu.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Modal({\n  product,\n  onClose,\n  onAddToCart\n}) {\n  _s();\n  const [quantity, setQuantity] = useState(1);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [showVideo, setShowVideo] = useState(false);\n  if (!product) return null;\n  const handleAddToCart = () => {\n    onAddToCart(product, quantity);\n    onClose();\n  };\n  const nextImage = () => {\n    setCurrentImageIndex((currentImageIndex + 1) % product.imgSrcs.length);\n  };\n  const prevImage = () => {\n    setCurrentImageIndex((currentImageIndex - 1 + product.imgSrcs.length) % product.imgSrcs.length);\n  };\n  const discount = Math.round((product.originalPrice - product.price) / product.originalPrice * 100);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: onClose,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [showVideo ? /*#__PURE__*/_jsxDEV(\"video\", {\n            src: product.videoSrc,\n            controls: true,\n            className: \"modal-product-video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.imgSrcs[currentImageIndex],\n            alt: product.name,\n            className: \"modal-product-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 15\n          }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-md text-sm\",\n            children: [\"-\", discount, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-blue-900\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gray-600\",\n            children: product.modalDescription || product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex items-center justify-between\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-bold text-blue-600\",\n                children: [product.price.toLocaleString(), \" FCFA\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500 line-through\",\n                children: [product.originalPrice.toLocaleString(), \" FCFA\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quantity-container mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Quantit\\xE9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: quantity,\n              min: \"1\",\n              onChange: e => setQuantity(parseInt(e.target.value)),\n              className: \"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view-buttons mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowVideo(false),\n              className: \"bg-blue-500 text-white px-4 py-2 rounded-md mr-2\",\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowVideo(true),\n              className: \"bg-blue-500 text-white px-4 py-2 rounded-md\",\n              children: \"Vid\\xE9o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"images-container mt-4 flex overflow-x-auto\",\n            children: product.imgSrcs.map((src, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: src,\n              alt: product.name,\n              className: `thumbnail-image ${index === currentImageIndex ? 'border-blue-500' : ''}`,\n              onClick: () => setCurrentImageIndex(index)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-buttons mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddToCart,\n              className: \"bg-blue-600 text-white px-4 py-2 rounded-md mr-2\",\n              children: \"Ajouter au panier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              className: \"bg-gray-500 text-white px-4 py-2 rounded-md\",\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Modal, \"hvree3ccrpJW1ktwllWgKZ0yJaM=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Modal","product","onClose","onAddToCart","_s","quantity","setQuantity","currentImageIndex","setCurrentImageIndex","showVideo","setShowVideo","handleAddToCart","nextImage","imgSrcs","length","prevImage","discount","Math","round","originalPrice","price","children","className","onClick","e","stopPropagation","src","videoSrc","controls","fileName","_jsxFileName","lineNumber","columnNumber","alt","name","modalDescription","description","toLocaleString","type","value","min","onChange","parseInt","target","map","index","_c","$RefreshReg$"],"sources":["/home/fathane/DOSS_HOME/link_repository/frontend/src/components/Modal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../menu.css';\n\nfunction Modal({ product, onClose, onAddToCart }) {\n  const [quantity, setQuantity] = useState(1);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [showVideo, setShowVideo] = useState(false);\n\n  if (!product) return null;\n\n  const handleAddToCart = () => {\n    onAddToCart(product, quantity);\n    onClose();\n  };\n\n  const nextImage = () => {\n    setCurrentImageIndex((currentImageIndex + 1) % product.imgSrcs.length);\n  };\n\n  const prevImage = () => {\n    setCurrentImageIndex((currentImageIndex - 1 + product.imgSrcs.length) % product.imgSrcs.length);\n  };\n\n  const discount = Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100);\n\n  return (\n    <>\n      <div className=\"modal-overlay\" onClick={onClose}>\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n          <div className=\"relative\">\n            {showVideo ? (\n              <video src={product.videoSrc} controls className=\"modal-product-video\"></video>\n            ) : (\n              <img src={product.imgSrcs[currentImageIndex]} alt={product.name} className=\"modal-product-image\" />\n            )}\n            {discount > 0 && (\n              <div className=\"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-md text-sm\">\n                -{discount}%\n              </div>\n            )}\n          </div>\n          <div className=\"p-4\">\n            <h2 className=\"text-2xl font-bold text-blue-900\">{product.name}</h2>\n            <p className=\"mt-2 text-gray-600\">{product.modalDescription || product.description}</p>\n            <div className=\"mt-4 flex items-center justify-between\">\n              <div className=\"flex flex-col\">\n                <span className=\"text-xl font-bold text-blue-600\">\n                  {product.price.toLocaleString()} FCFA\n                </span>\n                {discount > 0 && (\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {product.originalPrice.toLocaleString()} FCFA\n                  </span>\n                )}\n              </div>\n            </div>\n            <div className=\"quantity-container mt-4\">\n              <label>Quantité:</label>\n              <input\n                type=\"number\"\n                value={quantity}\n                min=\"1\"\n                onChange={(e) => setQuantity(parseInt(e.target.value))}\n                className=\"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md\"\n              />\n            </div>\n            <div className=\"view-buttons mt-4\">\n              <button onClick={() => setShowVideo(false)} className=\"bg-blue-500 text-white px-4 py-2 rounded-md mr-2\">\n                Image\n              </button>\n              <button onClick={() => setShowVideo(true)} className=\"bg-blue-500 text-white px-4 py-2 rounded-md\">\n                Vidéo\n              </button>\n            </div>\n            <div className=\"images-container mt-4 flex overflow-x-auto\">\n              {product.imgSrcs.map((src, index) => (\n                <img\n                  key={index}\n                  src={src}\n                  alt={product.name}\n                  className={`thumbnail-image ${index === currentImageIndex ? 'border-blue-500' : ''}`}\n                  onClick={() => setCurrentImageIndex(index)}\n                />\n              ))}\n            </div>\n            <div className=\"modal-buttons mt-4\">\n              <button onClick={handleAddToCart} className=\"bg-blue-600 text-white px-4 py-2 rounded-md mr-2\">\n                Ajouter au panier\n              </button>\n              <button onClick={onClose} className=\"bg-gray-500 text-white px-4 py-2 rounded-md\">\n                Annuler\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Modal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}