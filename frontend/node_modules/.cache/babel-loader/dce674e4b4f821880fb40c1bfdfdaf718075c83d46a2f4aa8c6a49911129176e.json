{"ast":null,"code":"var _jsxFileName = \"/home/fathane/DOSS_HOME/link_repository/frontend/src/components/Modal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ShoppingCart, Eye } from 'lucide-react';\nimport '../menu.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Modal({\n  product,\n  onClose,\n  onAddToCart\n}) {\n  _s();\n  const [quantity, setQuantity] = useState(1);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0); // �tat pour g�rer l'image actuelle\n  const [showVideo, setShowVideo] = useState(false); // �tat pour basculer entre image et vid�o\n\n  if (!product) return null;\n  const handleAddToCart = () => {\n    onAddToCart(product, quantity);\n    onClose();\n  };\n  const nextImage = () => {\n    setCurrentImageIndex((currentImageIndex + 1) % product.imgSrcs.length);\n  };\n  const prevImage = () => {\n    setCurrentImageIndex((currentImageIndex - 1 + product.imgSrcs.length) % product.imgSrcs.length);\n  };\n  const discount = Math.round((product.originalPrice - product.price) / product.originalPrice * 100);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: onClose,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [showVideo ? /*#__PURE__*/_jsxDEV(\"video\", {\n            src: product.videoSrc,\n            controls: true,\n            className: \"modal-product-video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-arrow left-arrow\",\n              onClick: prevImage,\n              children: \"\\u276E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.imgSrcs[currentImageIndex],\n              alt: product.name,\n              className: \"modal-product-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-arrow right-arrow\",\n              onClick: nextImage,\n              children: \"\\u276F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-md text-sm\",\n            children: [\"-\", discount, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gray-600\",\n            children: product.modalDescription || product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-bold text-indigo-600\",\n                children: [product.price.toLocaleString(), \" FCFA\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 17\n              }, this), discount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500 line-through\",\n                children: [product.originalPrice.toLocaleString(), \" FCFA\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowVideo(!showVideo),\n                className: \"p-2 text-gray-500 hover:text-indigo-600\",\n                children: /*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddToCart,\n                className: \"flex items-center space-x-1 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quantity-container mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Quantit\\uFFFD:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: quantity,\n              min: \"1\",\n              onChange: e => setQuantity(parseInt(e.target.value)),\n              className: \"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Modal, \"hvree3ccrpJW1ktwllWgKZ0yJaM=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","ShoppingCart","Eye","jsxDEV","_jsxDEV","Fragment","_Fragment","Modal","product","onClose","onAddToCart","_s","quantity","setQuantity","currentImageIndex","setCurrentImageIndex","showVideo","setShowVideo","handleAddToCart","nextImage","imgSrcs","length","prevImage","discount","Math","round","originalPrice","price","children","className","onClick","e","stopPropagation","src","videoSrc","controls","fileName","_jsxFileName","lineNumber","columnNumber","alt","name","modalDescription","description","toLocaleString","type","value","min","onChange","parseInt","target","_c","$RefreshReg$"],"sources":["/home/fathane/DOSS_HOME/link_repository/frontend/src/components/Modal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { ShoppingCart, Eye } from 'lucide-react';\nimport '../menu.css';\n\nfunction Modal({ product, onClose, onAddToCart }) {\n  const [quantity, setQuantity] = useState(1);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0); // �tat pour g�rer l'image actuelle\n  const [showVideo, setShowVideo] = useState(false); // �tat pour basculer entre image et vid�o\n\n  if (!product) return null;\n\n  const handleAddToCart = () => {\n    onAddToCart(product, quantity);\n    onClose();\n  };\n\n  const nextImage = () => {\n    setCurrentImageIndex((currentImageIndex + 1) % product.imgSrcs.length);\n  };\n\n  const prevImage = () => {\n    setCurrentImageIndex((currentImageIndex - 1 + product.imgSrcs.length) % product.imgSrcs.length);\n  };\n\n  const discount = Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100);\n\n  return (\n    <>\n      <div className=\"modal-overlay\" onClick={onClose}>\n        <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n          <div className=\"relative\">\n            {showVideo ? (\n              <video src={product.videoSrc} controls className=\"modal-product-video\"></video>\n            ) : (\n              <div className=\"image-container\">\n                <button className=\"nav-arrow left-arrow\" onClick={prevImage}>&#10094;</button>\n                <img src={product.imgSrcs[currentImageIndex]} alt={product.name} className=\"modal-product-image\" />\n                <button className=\"nav-arrow right-arrow\" onClick={nextImage}>&#10095;</button>\n              </div>\n            )}\n            {discount > 0 && (\n              <div className=\"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-md text-sm\">\n                -{discount}%\n              </div>\n            )}\n          </div>\n          <div className=\"p-4\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">{product.name}</h2>\n            <p className=\"mt-2 text-gray-600\">{product.modalDescription || product.description}</p>\n            <div className=\"mt-4 flex items-center justify-between\">\n              <div className=\"flex flex-col\">\n                <span className=\"text-xl font-bold text-indigo-600\">\n                  {product.price.toLocaleString()} FCFA\n                </span>\n                {discount > 0 && (\n                  <span className=\"text-sm text-gray-500 line-through\">\n                    {product.originalPrice.toLocaleString()} FCFA\n                  </span>\n                )}\n              </div>\n              <div className=\"flex space-x-2\">\n                <button\n                  onClick={() => setShowVideo(!showVideo)}\n                  className=\"p-2 text-gray-500 hover:text-indigo-600\"\n                >\n                  <Eye className=\"h-5 w-5\" />\n                </button>\n                <button\n                  onClick={handleAddToCart}\n                  className=\"flex items-center space-x-1 bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors\"\n                >\n                  <ShoppingCart className=\"h-5 w-5\" />\n                  <span>Add</span>\n                </button>\n              </div>\n            </div>\n            <div className=\"quantity-container mt-4\">\n              <label>Quantit�:</label>\n              <input \n                type=\"number\"\n                value={quantity}\n                min=\"1\"\n                onChange={(e) => setQuantity(parseInt(e.target.value))}\n                className=\"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Modal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}